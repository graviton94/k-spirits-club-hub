# ğŸ¥ƒ K-Spirits Club

<div align="center">

![Status](https://img.shields.io/badge/Status-v1.0.0_Production_Global-green)
![Tech](https://img.shields.io/badge/Stack-Next.js_15_|_Cloudflare_|_Tailwind_4-black)
![AI](https://img.shields.io/badge/AI-Gemini_2.0_Flash_Sommelier-purple)
![Performance](https://img.shields.io/badge/Performance-CLS_0_|_LCP_Optimized-orange)

**ëŒ€í•œë¯¼êµ­ ëŒ€í‘œ ì£¼ë¥˜ ë°ì´í„°ë² ì´ìŠ¤ & ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ (Global Standard)**

[ğŸŒ Live Demo](https://k-spirits.club) | [ğŸ“– Docs](./TECH_STACK.md) | [ğŸš€ Getting Started](#-quick-start)

</div>

---

## ğŸ“‹ Overview

**K-Spirits Club**ì€ ì „ ì„¸ê³„ ì£¼ë¥˜ ì •ë³´ë¥¼ ì§‘ëŒ€ì„±í•˜ê³ , ì‚¬ìš©ìì—ê²Œ ê°œì¸í™”ëœ "ë””ì§€í„¸ ìˆ ì¥" ê²½í—˜ì„ ì œê³µí•˜ëŠ” í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

### **í•µì‹¬ ê°€ì¹˜**
- ğŸŒ **Global Localization**: Next.js 15 Middleware ê¸°ë°˜ ë‹¤êµ­ì–´ ë¼ìš°íŒ… ë° ë”•ì…”ë„ˆë¦¬ ì£¼ì…
- ğŸ¤– **AI Sommelier**: Gemini 2.0 Flashë¥¼ í™œìš©í•œ ìˆœì°¨ì  ë°ì´í„° ë³´ê°• (Audit -> Sensory -> Pairing)
- âš¡ **Zero Layout Shift**: Skeleton UI ë° ìµœì í™”ëœ ì´ë¯¸ì§€ ë¡œë”©ìœ¼ë¡œ CLS 0 ë‹¬ì„±
- ğŸ“± **Mobile First**: PWA ìˆ˜ì¤€ì˜ ë¶€ë“œëŸ¬ìš´ ëª¨ë°”ì¼ UX ë° í„°ì¹˜ ì¸í„°ë™ì…˜
- ğŸš€ **Edge Runtime**: Cloudflare Pagesì˜ ê¸€ë¡œë²Œ ì—£ì§€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì´ˆê³ ì† API ì²˜ë¦¬

---

## âœ¨ Key Features

### **1. ğŸ” Smart Search**
- **100,000+ ì£¼ë¥˜ ë°ì´í„°ë² ì´ìŠ¤**ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê²€ìƒ‰
- **Fuse.js ê¸°ë°˜ í¼ì§€ ê²€ìƒ‰**ìœ¼ë¡œ ì˜¤íƒ€ì—ë„ ê°•í•œ ê²€ìƒ‰ ê²°ê³¼
- ì¹´í…Œê³ ë¦¬, ì„œë¸Œì¹´í…Œê³ ë¦¬, ë„ìˆ˜, êµ­ê°€ë³„ ìƒì„¸ í•„í„°ë§

### **2. ğŸ“š My Cabinet (ë‚˜ì˜ ìˆ ì¥)**
- ë³´ìœ í•œ ìˆ ê³¼ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬
- ê°œì¸ ë©”ëª¨, í‰ì , ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥
- Firebase ì‹¤ì‹œê°„ ë™ê¸°í™”ë¡œ ëª¨ë“  ê¸°ê¸°ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥

### **3. â­ Review System**
- 5ì  ë§Œì  í‰ê°€ ë° ìƒì„¸ ë¦¬ë·° ì‘ì„±
- í–¥(Nose), ë§›(Palate), í”¼ë‹ˆì‹œ(Finish) ë³„ë„ í‰ê°€
- ì‹¤ì‹œê°„ ë¦¬ë·° í”¼ë“œ ë° ì¶”ì²œ ê¸°ëŠ¥

### **4. ğŸ§¬ AI Taste Analysis**
- AIê°€ ë¶„ì„í•˜ëŠ” ë‚˜ë§Œì˜ **ë¯¸ê° DNA**
- 6ì°¨ì› ë ˆì´ë” ì°¨íŠ¸ë¡œ ì·¨í–¥ ì‹œê°í™” (ìš°ë””, í”¼í‹°, í”Œë¡œëŸ´, í”„ë£¨í‹°, ë„ˆí‹°, ë¦¬ì¹˜ë‹ˆìŠ¤)
- ê°œì¸í™”ëœ ì¶”ì²œ ë° í˜ë¥´ì†Œë‚˜ ìƒì„±
- **ìµœì‹  í™œë™ ìš°ì„ ìˆœìœ„ ë¶„ì„** - ìµœê·¼ 7ì¼ ë‚´ ì¶”ê°€/ë¦¬ë·°í•œ ìˆ ì„ ë” ë†’ê²Œ ë°˜ì˜
- **ì¼ì¼ 3íšŒ ë¬´ë£Œ** ë¶„ì„ ì œê³µ

### **5. ğŸ­ MBTI Spirit Quiz (ì£¼ë¥˜ ì„±í–¥ í…ŒìŠ¤íŠ¸)**
- **16ê°€ì§€ ì£¼ë¥˜ ì„±í–¥ ìœ í˜•** - ë‚˜ì—ê²Œ ë§ëŠ” ìˆ  ìŠ¤íƒ€ì¼ ì§„ë‹¨
- **ì–‘ìíƒì¼ ì§ˆë¬¸** - 15ê°œì˜ ì„ íƒì§€ë¥¼ í†µí•œ ì •í™•í•œ ì„±í–¥ ë¶„ì„
- **ë¹„ì£¼ì–¼ ê²°ê³¼ ì¹´ë“œ** - SNS ê³µìœ ìš© ì´ë¯¸ì§€ ìë™ ìƒì„± (html-to-image)
- **ë§ì¶¤ ì¶”ì²œ** - ì„±í–¥ë³„ ì–´ìš¸ë¦¬ëŠ” ì£¼ë¥˜ ë° í…Œì´ìŠ¤íŒ… ë…¸íŠ¸ ì œê³µ
- **ë‹¤êµ­ì–´ ì§€ì›** - í•œêµ­ì–´/ì˜ì–´ ì™„ë²½ ì§€ì›

### **6. ğŸ† World Cup (ì£¼ë¥˜ ì›”ë“œì»µ)**
- í† ë„ˆë¨¼íŠ¸ ë°©ì‹ìœ¼ë¡œ ë‚˜ì˜ ìµœì•  ìˆ  ì°¾ê¸°
- 16ê°• / 32ê°• / 64ê°• ë¼ìš´ë“œ ì„ íƒ
- ì¹´í…Œê³ ë¦¬ë³„, ì„œë¸Œì¹´í…Œê³ ë¦¬ë³„ ê²Œì„ ìƒì„±
- ê²°ê³¼ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° SNS ê³µìœ 
- **ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©** - ê²Œì„ ì‹œì‘ ì „ ëª¨ë“  ì´ë¯¸ì§€ ì‚¬ì „ ë¡œë“œë¡œ ëŠê¹€ ì—†ëŠ” í”Œë ˆì´

### **7. ğŸ» Perfect Pour (ì†Œë§¥ ì œì¡° ê²Œì„)**
- í™©ê¸ˆ ë¹„ìœ¨ ì†Œë§¥ì„ ë§Œë“œëŠ” ë¯¸ë‹ˆ ê²Œì„
- **2ë‹¨ê³„ ë”°ë¥´ê¸° ì‹œë®¬ë ˆì´ì…˜** - ì†Œì£¼ â†’ ë§¥ì£¼ ìˆœì°¨ ì£¼ì…
- **ì •ë°€ ì ìˆ˜ ì‹œìŠ¤í…œ** - ì´ëŸ‰(70-90ml)ê³¼ ë¹„ìœ¨(ì†Œì£¼ 30% Â±10%) ê¸°ë°˜ ì±„ì 
- ë¦¬ë”ë³´ë“œ ë° ì ìˆ˜ ê³µìœ  ê¸°ëŠ¥

### **8. ğŸŒ Multi-Language Support**
- **ì™„ì „ ì´ì¤‘ì–¸ì–´ ì¸í„°í˜ì´ìŠ¤** - URL ê¸°ë°˜ í•œêµ­ì–´/ì˜ì–´ ìë™ ì „í™˜ (`/ko`, `/en`)
- **ë™ì  ë©”íƒ€ë°ì´í„°** - ì–¸ì–´ë³„ SEO ìµœì í™” ë° ì†Œì…œ ê³µìœ  ë¯¸ë¦¬ë³´ê¸°
- **AI ë²ˆì—­ ì½˜í…ì¸ ** - ì˜ë¬¸ëª…, ì„¤ëª…, í˜ì–´ë§ ê°€ì´ë“œ ìë™ ìƒì„±
- **ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ UI** - `UI_TEXT` ë”•ì…”ë„ˆë¦¬ë¡œ ëª¨ë“  ë ˆì´ë¸” ë™ì  ì²˜ë¦¬

---

## ğŸ—ï¸ Tech Stack

### **Frontend**
- **Next.js 15** (App Router, React 19)
- **TypeScript** (Strict Mode)
- **Tailwind CSS 4** (Utility-first styling)
- **Framer Motion** (Animations)
- **Recharts** (Data visualization)

### **Backend & Infrastructure**
- **Cloudflare Pages** (Hosting & Edge Runtime)
- **Firebase Firestore** (NoSQL Database)
- **Firebase Auth** (Google OAuth & Guest Mode)
- **Edge Functions** (Serverless API)

### **AI & Data**
- **Google Gemini 2.0 Flash** (AI Analysis & Data Enrichment)
- **Python 3** (Data Pipeline)
- **Fuse.js** (Client-side Fuzzy Search)
- **wsrv.nl** (Image Optimization Proxy)

**ìƒì„¸ ê¸°ìˆ  ë¬¸ì„œ**: [TECH_STACK.md](./TECH_STACK.md)

---

## ğŸš€ Quick Start

### **Prerequisites**
- Node.js 18+
- Python 3.8+
- Firebase Project (Firestore + Auth)

### **Installation**
```bash
# Clone repository
git clone https://github.com/graviton94/k-spirits-club-hub.git
cd k-spirits-club-hub

# Install dependencies
npm install
pip install -r requirements-dev.txt

# Setup environment variables
cp .env.example .env.local
# Edit .env.local with your Firebase & Gemini API keys

# Start development server
npm run dev
```

ì‚¬ì´íŠ¸ëŠ” `http://localhost:3000`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

**ìƒì„¸ ê°œë°œ ê°€ì´ë“œ**: [DEVELOPMENT.md](./DEVELOPMENT.md)

---

## ğŸ“Š Project Status

### **Current Phase: Production Stable (v1.0.0)**
âœ… **Completed:**
- [x] Next.js 15 Migration & i18n Routing (`app/[lang]`)
- [x] Gemini 2.0 Flash Sequential Data Enrichment (Step-by-step)
- [x] Performance Optimization (CLS 0, Skeleton UI)
- [x] Global Search Indexing with Multi-language support
- [x] User Cabinet & Review System with Dual-path consistency
- [x] MBTI & World Cup Games with bilingual support

ğŸš§ **In Progress:**
- [ ] Scale-up data collection (targeting 500K+ spirits)
- [ ] Image loading optimization
- [ ] Performance profiling & caching strategy

ğŸ“… **Upcoming:**
- [ ] Social features (follow, feed)
- [ ] Advanced filtering (price, availability)
- [ ] Recommendation algorithm refinement
- [ ] Native app (PWA â†’ iOS/Android)
- [ ] E-commerce integration

---

## ğŸ“‚ Project Structure

```
k-spirits-club-hub/
â”œâ”€â”€ app/                    # Next.js 15 App Router
â”‚   â”œâ”€â”€ [lang]/             # i18n Localized Routing (ko/en)
â”‚   â”œâ”€â”€ api/                # Edge API Routes
â”‚   â”œâ”€â”€ actions/            # Server Actions for DB Mutations
â”‚   â”œâ”€â”€ context/            # React Context Providers
â”‚   â””â”€â”€ middleware.ts       # i18n Language Detection Middleware
â”‚
â”œâ”€â”€ components/             # React Components
â”‚   â”œâ”€â”€ layout/             # Header, Footer, Nav
â”‚   â”œâ”€â”€ ui/                 # Reusable UI components
â”‚   â”œâ”€â”€ cabinet/            # Cabinet-specific components
â”‚   â””â”€â”€ admin/              # Admin-only components
â”‚
â”œâ”€â”€ lib/                    # Core libraries
â”‚   â”œâ”€â”€ db/                 # Database layer (Firestore REST)
â”‚   â”‚   â”œâ”€â”€ firestore-rest.ts  # DB abstraction
â”‚   â”‚   â””â”€â”€ schema.ts          # TypeScript types
â”‚   â”œâ”€â”€ utils/              # Utility functions
â”‚   â”‚   â”œâ”€â”€ image-optimization.ts
â”‚   â”‚   â”œâ”€â”€ image-fallback.ts
â”‚   â”‚   â””â”€â”€ aiPromptBuilder.ts
â”‚   â””â”€â”€ constants/          # App constants
â”‚
â”œâ”€â”€ scripts/                # Data Pipeline (Python)
â”‚   â”œâ”€â”€ fetch_food_safety.py    # Collect from public API
â”‚   â”œâ”€â”€ run_pipeline.py         # AI enrichment pipeline
â”‚   â””â”€â”€ publish-ready-data.ts   # Bulk publish to production
â”‚
â”œâ”€â”€ public/                 # Static assets
â”‚   â”œâ”€â”€ icons/              # App icons
â”‚   â”œâ”€â”€ og-*.png            # Open Graph images
â”‚   â””â”€â”€ mys-*.webp          # Category fallback images
â”‚
â””â”€â”€ data/                   # Data storage (gitignored)
    â”œâ”€â”€ raw_imported/       # Original data from API
    â”œâ”€â”€ temp_pipeline/      # Pipeline intermediate files
    â””â”€â”€ processed_batches/  # Offline mode backups
```

**ìƒì„¸ êµ¬ì¡° ì„¤ëª…**: [TECH_STACK.md](./TECH_STACK.md#-directory-structure)

---

## ğŸ”Œ API Documentation

### **Key Endpoints**
| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/spirits` | GET | List published spirits |
| `/api/spirits/[id]` | GET | Spirit detail |
| `/api/spirits/search` | GET | Search index (100KB compressed) |
| `/api/cabinet` | GET, POST, DELETE | Manage user's cabinet |
| `/api/reviews` | GET, POST, PATCH, DELETE | Review CRUD |
| `/api/analyze-taste` | GET, POST | AI taste analysis |
| `/api/admin/spirits` | GET, PATCH | Admin dashboard |

**ì „ì²´ API ë¬¸ì„œ**: [API_ENDPOINTS.md](./API_ENDPOINTS.md)

---

## ğŸ“Š Data Schema

### **Core Collections**
| Collection | Documents | Description |
|-----------|-----------|-------------|
| `spirits` | 100,000+ | Main spirit database |
| `search_index` | 1 | Compressed search index |
| `users/{uid}/cabinet` | Variable | User's cabinet items |
| `users/{uid}/reviews` | Variable | User's reviews |
| `reviews` | 50,000+ | Global review collection |
| `users/{uid}/taste_data` | 1 | AI analysis results |
| `worldcup_results` | 100,000+ | Game results |

**ìƒì„¸ ìŠ¤í‚¤ë§ˆ ë¬¸ì„œ**: [DATA_SCHEMA.md](./DATA_SCHEMA.md)

---

## ğŸ”„ Data Pipeline

### **Pipeline Flow**
```
ê³µê³µ API (ì‹í’ˆì•ˆì „ë‚˜ë¼)
    â†“
fetch_food_safety.py (ìˆ˜ì§‘)
    â†“
run_pipeline.py (AI ë³´ê°•)
    â”œâ”€â†’ Category Classification
    â”œâ”€â†’ ABV Inference
    â”œâ”€â†’ Tasting Tags Extraction
    â””â”€â†’ Image Search
    â†“
Firestore (status: ENRICHED)
    â†“
Admin Dashboard (ê²€ìˆ˜)
    â†“
publish-ready-data.ts (ë°œí–‰)
    â†“
Production (isPublished: true)
```

### **Running the Pipeline**
```bash
# Fetch data from public API
npm run fetch

# Run AI enrichment pipeline
npm run pipe -- --source "data/raw_imported/spirits_whisky.json"

# Offline mode (no upload, save locally)
npm run pipe -- --source "data/spirits.json" --skip-upload

# Bulk publish approved spirits
npm run publish-ready-spirits
```

**ìƒì„¸ í”Œë¡œìš°**: [CODE_FLOW.md](./CODE_FLOW.md#7ï¸âƒ£-data-pipeline-python--firestore)

---

## ğŸ¨ Design Philosophy

### **Mobile-First**
- ëª¨ë“  UIëŠ” ëª¨ë°”ì¼ í™˜ê²½ì„ ìš°ì„  ê³ ë ¤
- í„°ì¹˜ ì œìŠ¤ì²˜ ìµœì í™” (ìŠ¤ì™€ì´í”„, íƒ­, ë¡±í”„ë ˆìŠ¤)
- ë°˜ì‘í˜• ë””ìì¸ (320px ~ 4K ì§€ì›)

### **Dark Mode Native**
- ê¸°ë³¸ ë‹¤í¬ ëª¨ë“œ ë””ìì¸
- ëˆˆì˜ í”¼ë¡œë¥¼ ì¤„ì´ëŠ” ìƒ‰ìƒ íŒ”ë ˆíŠ¸
- OLED ìµœì í™” (#000000 ë°°ê²½)

### **Performance First**
- ê²€ìƒ‰ ì¸ë±ìŠ¤ ìºì‹± (í´ë¼ì´ì–¸íŠ¸ ë©”ëª¨ë¦¬)
- ì´ë¯¸ì§€ ìµœì í™” (WebP, ë¦¬ì‚¬ì´ì§•)
- ISR (Incremental Static Regeneration)
- Edge Computing (300ms ì´í•˜ ì‘ë‹µ)

---

## ğŸ¤ Contributing

We welcome contributions! Please follow these guidelines:

### **Development Workflow**
1. Fork the repository
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'feat: Add AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

### **Coding Standards**
- TypeScript strict mode
- Tailwind CSS for styling
- Functional React components
- Meaningful commit messages (Conventional Commits)

**ìƒì„¸ ê°€ì´ë“œ**: [DEVELOPMENT.md](./DEVELOPMENT.md#-contributing)

---

## ğŸ“ License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **ì‹í’ˆì•ˆì „ë‚˜ë¼**: ì‹ ë¢°ì„± ìˆëŠ” ê³µê³µ ë°ì´í„° ì œê³µ
- **Google Gemini**: AI ë°ì´í„° ë³´ê°• ë° ì·¨í–¥ ë¶„ì„
- **Cloudflare Pages**: ë¹ ë¥´ê³  ì•ˆì •ì ì¸ ê¸€ë¡œë²Œ í˜¸ìŠ¤íŒ…
- **Firebase**: ê°•ë ¥í•œ ë°±ì—”ë“œ ì¸í”„ë¼
- **Open Source Community**: í›Œë¥­í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë„êµ¬ë“¤

---

## ğŸ“ Contact

- **Website**: [k-spirits.club](https://k-spirits.club)
- **GitHub Issues**: [Report bugs or request features](https://github.com/graviton94/k-spirits-club-hub/issues)
- **Email**: admin@k-spirits.club (ë¬¸ì˜ ì „ìš©)

---

## ğŸ“š Documentation

- [TECH_STACK.md](./TECH_STACK.md) - ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜
- [DATA_SCHEMA.md](./DATA_SCHEMA.md) - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- [API_ENDPOINTS.md](./API_ENDPOINTS.md) - API ë¬¸ì„œ
- [CODE_FLOW.md](./CODE_FLOW.md) - ì½”ë“œ í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨
- [DEVELOPMENT.md](./DEVELOPMENT.md) - ê°œë°œ ê°€ì´ë“œ

---

<div align="center">

**Made with â¤ï¸ by the K-Spirits Club Team**

â­ Star us on GitHub if you find this project useful!

</div>

---

**Last Updated**: 2026-02-07  
**Version**: 1.0.0 (Production Global)
